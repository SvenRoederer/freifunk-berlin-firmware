From: Sven Roederer <devel-sven@geroedel.de>
Date: Sat, 3 Apr 2021 18:47:02 +0200
Subject: xinetd: honor ${IPKG_INSTOOT} when calling /lib/functions.sh

Avoid "file not found"-error when embedding via Imagebuilder.

Signed-off-by: Sven Roederer <devel-sven@geroedel.de>

diff --git a/net/xinetd/Makefile b/net/xinetd/Makefile
index 2bf54ad9b6911b6b71c4b0f84f39cfc4fa0debc1..ef44d93cee9b2bf9bedc26d109ee2feff9158ef9 100644
--- a/net/xinetd/Makefile
+++ b/net/xinetd/Makefile
@@ -9,7 +9,7 @@ include $(TOPDIR)/rules.mk
 
 PKG_NAME:=xinetd
 PKG_VERSION:=2.3.15
-PKG_RELEASE:=10
+PKG_RELEASE:=11
 
 PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
 PKG_SOURCE_URL:=https://github.com/xinetd-org/xinetd/archive
diff --git a/net/xinetd/files/xinetd.init b/net/xinetd/files/xinetd.init
index c08671735a8d60e9e9837eea93e3609402854fa9..90ccda1c75cdd4e80ff1b80c511dc1b0357f0be7 100644
--- a/net/xinetd/files/xinetd.init
+++ b/net/xinetd/files/xinetd.init
@@ -1,7 +1,7 @@
 #!/bin/sh /etc/rc.common
 # Copyright (C) 2006-2011 OpenWrt.org
 
-. /lib/functions.sh
+. ${IPKG_INSTROOT}/lib/functions.sh
 
 START=50
 STOP=10
